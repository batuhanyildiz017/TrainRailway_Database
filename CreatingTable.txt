
-- Güzergah tablosu
CREATE TABLE TBLROUTE (
    ROUTEID INT IDENTITY (1,1),
    RLOCATION VARCHAR(100) NOT NULL,
	RNAME VARCHAR(100) NOT NULL,
    PRIMARY KEY (ROUTEID)
);
-- Makinist tablosu
CREATE TABLE TBLMACHINIST (
    MACHINISTID INT IDENTITY (1,1),
    MNAME VARCHAR(50) NOT NULL,
    MSURNAME VARCHAR(50) NOT NULL,
    MGENDER VARCHAR(10) NOT NULL,
    MSALARY INT NOT NULL,
    PRIMARY KEY (MACHINISTID)
);
-- Tren tablosu
CREATE TABLE TBLTRAIN (
    TRAINID INT IDENTITY (1,1),
    TRAINCAPACITY INT NOT NULL,
    MACHINIST INT NOT NULL,
    TROUTE INT NOT NULL,
    DEPARTURETIME1 TIME(0) ,
    DEPARTURETIME2 TIME(0) ,
    DEPARTURETIME3 TIME(0) ,
    DEPARTURETIME4 TIME(0) ,
    PRIMARY KEY (TRAINID),
    FOREIGN KEY (MACHINIST) REFERENCES TBLMACHINIST (MACHINISTID),
    FOREIGN KEY (TROUTE) REFERENCES TBLROUTE (ROUTEID)
);



-- Durak tablosu
CREATE TABLE TBLSTATION (
    STATIONID INT IDENTITY (1,1),
    STATIONPOINT VARCHAR(100) NOT NULL,
    SROUTE INT NOT NULL,
    PRIMARY KEY (STATIONID),
    FOREIGN KEY (SROUTE) REFERENCES TBLROUTE (ROUTEID)
);

-- Yolcu tablosu
CREATE TABLE TBLPASSENGER (
    PASSENGERID INT IDENTITY (1,1),
    PNAME VARCHAR(50) NOT NULL,
    PSURNAME VARCHAR(50) NOT NULL,
    PGENDER VARCHAR(7) NOT NULL,
    PBIRTHDATE DATE NOT NULL,
    PFARE VARCHAR(50) NOT NULL,
    PRIMARY KEY (PASSENGERID)
);

-- Bindiği tablosu
CREATE TABLE TBLBOARDED (
    TRAIN INT NOT NULL,
    PASSENGER INT NOT NULL,
    PRIMARY KEY (TRAIN, PASSENGER),
    FOREIGN KEY (TRAIN) REFERENCES TBLTRAIN (TRAINID),
    FOREIGN KEY (PASSENGER) REFERENCES TBLPASSENGER (PASSENGERID)
);
